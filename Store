import java.util.Random;  // Para generar colores aleatorios

public class Store {
    private int positionX;        // Posición X de la tienda
    private int positionY;        // Posición Y de la tienda
    private int sizeRectangle;    // Tamaño de la tienda (ancho)
    private int sizeTriangle;     // Tamaño del techo de la tienda (alto)
    private String color;         // Color aleatorio de la tienda

    private Rectangle base;       // Base de la tienda (rectángulo)
    private Triangle roof;        // Techo de la tienda (triángulo)

    /**
     * Constructor para crear la tienda con la posición y tamaño dados.
     * @param positionX posición X en el lienzo
     * @param positionY posición Y en el lienzo
     * @param size tamaño de la tienda
     */
    public Store() {
        this.positionX = 24;
        this.positionY = 15;
        this.sizeRectangle = 20;
        this.sizeTriangle = 20;
        this.color = getRandomColor();  // Asignamos un color aleatorio

        // Crear la base de la tienda (rectángulo)
        base = new Rectangle();
        base.changeColor(color); // Usar el color aleatorio
        base.changeSize(sizeRectangle / 2, sizeRectangle);  // La base será el doble de ancha que alta
        base.setPosition(positionX, positionY);
        base.makeVisible();

        // Crear el techo de la tienda (triángulo)
        roof = new Triangle();
        roof.changeColor("brown");  // El color del techo será siempre café
        roof.changeSize(sizeTriangle / 2, sizeTriangle);  // El techo será un triángulo equilátero
        roof.setPosition(positionX + 10, positionY - sizeTriangle / 2);  // Colocarlo sobre la base
        roof.makeVisible();
    }

    /**
     * Método para generar un color aleatorio para la tienda.
     * @return Color aleatorio en formato String.
     */
    private String getRandomColor() {
        // Lista de colores posibles (sin café)
        String[] colors = {"red", "blue", "green", "yellow", "magenta", "cyan", "purple", "orange"};
        Random rand = new Random();

        // Seleccionar un color aleatorio de la lista
        return colors[rand.nextInt(colors.length)];
    }

    /**
     * Mueve la tienda a una nueva posición.
     * @param newX nueva posición X para la tienda
     * @param newY nueva posición Y para la tienda
     */
    public void moveTo(int newX, int newY) {
        positionX = newX;  // Actualizar la posición X de la tienda
        positionY = newY;  // Actualizar la posición Y de la tienda

        // Mover las partes de la tienda a las nuevas posiciones
        base.setPosition(positionX, positionY);  // Mover la base de la tienda
        roof.setPosition(positionX + 10, positionY - sizeTriangle / 2);  // Mover el techo de la tienda
    }

    /**
     * Hace que la tienda sea visible.
     */
    public void makeVisible() {
        base.makeVisible();
        roof.makeVisible();
    }

    /**
     * Hace que la tienda sea invisible.
     */
    public void makeInvisible() {
        base.makeInvisible();
        roof.makeInvisible();
    }
}
